{% extends "lti/base.html" %}
{% load i18n %}
{% load static %}

{% block body_class %}registration begin {{block.super}}{% endblock body_class %}

{% block page_title %}{% translate "Connect to Chirun LTI" %}{% endblock page_title %}

{% block main %}
<p>{% blocktranslate %}The method for connecting to Chirun LTI depends on the platform you are using.{% endblocktranslate %}</p>

<p>{% blocktranslate %}The Chirun LTI service is provided as-is and without warranty or minimum service level.{% endblocktranslate %}</p>

<nav>
    <h2>{% translate "Table of contents" %}</h2>
    <ul>
        <li><a href="#moodle">Moodle</a></li>
        <li><a href="#blackboard">Blackboard</a></li>
        <li><a href="#canvas">Canvas</a></li>
        <li><a href="#other-platforms">{% translate "Other platforms" %}</a></li>
    </ul>
</nav>

<article id="moodle">
    <h2>Moodle</h2>
    <p>
    <p>{% translate "Use this URL to register your platform with this tool, using LTI Dynamic Registration:" %}</p>
    <code>{{register_url}}</code>
</article>

<hr>

<article id="canvas">
    <h2>Canvas</h2>

    <p>{% blocktranslate %}Follow <a href="https://community.canvaslms.com/t5/Admin-Guide/How-do-I-configure-an-LTI-key-for-an-account/ta-p/140">the Canvas instructions to create an LTI developer key</a>, with the following parameters:{% endblocktranslate %}</p>

    <dl>
        <dt>{% translate "Key Name" %}</dt>
        <dd>Chirun</dd>

        <dt>{% translate "Owner Email" %}</dt>
        <dd><code>{{email_address}}</code></dd>

        <dt>{% translate "Redirect URIs" %}</dt>
        <dd><code>{{launch_url}}</code></dd>
    </dl>

    <p>{% blocktranslate %}Then for <strong>Method</strong> select <em>Enter URL</em> and enter this URL:{% endblocktranslate %}</p>
    <pre>{{canvas_config_url}}</pre>

    <p>{% blocktranslate %}Click <strong>Save</strong>, and copy the key that Canvas has generated: this is your <em>Client ID</em>.{% endblocktranslate %}</p>

    <p>{% blocktranslate %}Next, you must enable the app for your account, following <a href="https://community.canvaslms.com/t5/Admin-Guide/How-do-I-configure-an-external-app-for-an-account-using-a-client/ta-p/202">the Canvas instructions on configuring an LTI key for an account</a>.{% endblocktranslate %}</p>

    <p>{% blocktranslate %}Enter the client ID that you got after creating the developer key, and install the app. Then, click on the settings icon for the app and get the <strong>Deployment ID</strong>.{% endblocktranslate %}</p>

    <p>{% blocktranslate with email_address=email_address %}<a href="mailto:{{email_address}}?subject=Register%20Chirun%20LTI">Send the client ID and deployment ID to us</a>. Once we've registered them, you will be able to access Chirun through Canvas.{% endblocktranslate %}</p>
</article>

<hr>

<article id="blackboard">
    <h2>Blackboard</h2>

    <p>{% blocktranslate %}Follow <a href="https://help.blackboard.com/Learn/Administrator/SaaS/Integrations/Learning_Tools_Interoperability#add_lti13">the Blackboard instructions for adding an LTI 1.3 tool</a>.{% endblocktranslate %}</p>

    <p>{% blocktranslate with blackboard_app_id=blackboard_app_id %}Enter this <strong>Client ID</strong>: <code>{{blackboard_app_id}}</code>.{% endblocktranslate %}</p>

    <p>{% blocktranslate %}The tool does <em>not</em> need access to the <strong>Membership Service</strong>.{% endblocktranslate %}</p>

    <p>{% blocktranslate %}Once you have added the app, follow <a href="https://help.blackboard.com/Learn/Administrator/SaaS/Integrations/Learning_Tools_Interoperability#create_placements">the instructions to create a placement</a>.{% endblocktranslate %}</p>
    
    <p>{% blocktranslate %}For <strong>Type</strong>, select <em>Deep Linking content tool</em>.{% endblocktranslate %}</p>

    <p>{% blocktranslate %}Use the following icon image:{% endblocktranslate %}</p>

    <p><img src="{% static "chirun_icon_50.png" %}" alt="{% translate "Chirun icon" %}"></p>

    <p>TODO - is there a missing step where you get a deployment ID?</p>
</article>

<hr>

<article id="other-platforms">
    <h2>{% translate "Other platforms" %}</h2>

    <p>{% blocktranslate with email_address=email_address %}Please <a href="mailto:{{email_address}}">email us</a> to discuss how to connect to your learning environment.{% endblocktranslate %}</p>
</article>
{% endblock main %}
